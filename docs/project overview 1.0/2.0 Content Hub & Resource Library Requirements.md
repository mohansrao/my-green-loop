# Content Hub & Resource Library - Detailed Requirements

## Overview
A curated collection of sustainability-focused articles, videos, infographics, and educational resources from across the web. Users can discover, search, bookmark, and share content organized by topics like climate action, zero waste, sustainable fashion, and renewable energy.

---

## 1. Site Placement & Navigation

### Primary Entry Points

#### 1.1 Main Navigation Menu
- New top-level menu item: **"Resources"** or **"Learn"**
- Positioned between existing menu items (e.g., Home | Shop | **Resources** | About)
- Desktop: Dropdown mega-menu showing content categories
- Mobile: Expandable menu section

#### 1.2 Dedicated Resource Hub Page (`/resources` or `/learn`)
- **Hero Section**: Featured content carousel (3-5 hand-picked items)
- **Category Grid**: Visual cards for each main category with icons
- **Trending Section**: Most viewed/shared content this week
- **Recent Additions**: Latest 6-8 content items
- **Search Bar**: Prominent placement at top of page

#### 1.3 Homepage Integration
- **"Latest Resources"** section showing 3-4 recent articles/videos
- Call-to-action: "Explore All Resources â†’"
- Contextual content recommendations based on browsing history (future phase)

#### 1.4 Contextual Placement
- Related articles shown on product pages (e.g., "Learn more about sustainable dining")
- Content recommendations in confirmation emails after rentals
- Related resources in blog posts or guides

---

## 2. Content Submission & Curation Process

### 2.1 Submission Model: **Admin-Only Curation**

- Only admins can add content directly
- Ensures quality and brand consistency
- Maintains editorial control and platform integrity
- Faster to implement and maintain

### 2.2 Admin Content Submission Flow

**Step 1: Add New Content**
- Admin clicks "Add Resource" button in admin dashboard
- **Simplified Form** with only essential fields:
  1. **URL** (required) 
     - Paste URL and click "Fetch Details"
     - System auto-fetches: title, description, thumbnail, source, content type
  2. **Primary Category** (required dropdown)
     - Select from predefined categories (e.g., Climate Action, Zero Waste, etc.)
  3. **Featured** (optional checkbox)
     - Check to highlight on homepage/top of resources page

- **Auto-populated fields** (editable if needed):
  - Title
  - Description
  - Thumbnail image
  - Content Type (auto-detected: Article/Video/Podcast)
  - Reading/viewing time (auto-calculated)

**Step 2: Quick Preview & Publish**
- Preview how content card will appear
- System validates URL is accessible and not a duplicate
- Click "Publish" to make immediately visible
- That's it! ðŸŽ‰

**Optional Advanced Settings** (collapsible section):
- Add custom tags
- Override thumbnail
- Schedule publication date



## 3. Social Sharing Features

### 3.1 Social Media Integration
- Users can share content from the platform to their social media
- Each shared link has tracking for referrals
- "Shared X times" counter on content cards
- Pre-populated share text with hashtags (e.g., #SustainableLiving)

---

## 4. User Experience & Interface Design

### 4.1 Content Card Design
Each content item displays as a card with:
- **Thumbnail Image** (16:9 aspect ratio)
- **Content Type Badge** (Article/Video/Podcast icon)
- **Title** (max 2 lines, ellipsis if longer)
- **Description** (2-3 lines preview)
- **Metadata Bar**:
  - Source domain (e.g., "treehugger.com")
  - Reading time (e.g., "5 min read" or "12 min video")
  - Difficulty badge (optional)
- **Action Icons**:
  - Bookmark/Save icon
  - Share icon
  - View count
- **Category Tags** (max 2 visible, "+2 more" if applicable)

### 4.2 Content Detail View
Clicking a content card can either:
- **Option A**: Open external link in new tab directly
- **Option B**: Show interstitial page with:
  - Full description
  - All tags and metadata
  - Related resources
  - Comments section (future)
  - "Continue to Article â†’" button

**Recommended**: Option A for faster access, with option to preview via hover or right-click menu.

### 4.3 Search & Filter Interface

**Search Bar**:
- Auto-suggest as user types
- Search across: titles, descriptions, tags, source names

**Filter Sidebar** (or collapsible panel):
- **Category** (checkboxes with counts)
- **Content Type** (checkboxes: Article, Video, Podcast, etc.)
- **Difficulty Level** (radio buttons or checkboxes)
- **Reading Time** (slider: 0-30+ minutes)
- **Date Added** (This Week, This Month, All Time)
- **Sort By**: Most Recent, Most Popular, Alphabetical

**Active Filters Display**:
- Show applied filters as chips with X to remove
- "Clear All Filters" button

---

## 5. Database Schema

### 5.1 Tables

#### `content_items`
```sql
id: serial (primary key)
title: text (not null)
description: text
url: text (unique, not null)
thumbnail_url: text
content_type: text (article, video, podcast, infographic, research)
source: text (domain name)
author: text
reading_time: integer (minutes)
difficulty: text (beginner, intermediate, advanced)
is_featured: boolean (default false)
status: text (draft, published, archived)
view_count: integer (default 0)
share_count: integer (default 0)
bookmark_count: integer (default 0)
created_by: integer (foreign key to users table)
created_at: timestamp
updated_at: timestamp
published_at: timestamp
```

#### `content_categories`
```sql
id: serial (primary key)
name: text (not null, unique)
slug: text (not null, unique)
description: text
icon: text (icon identifier or URL)
color: text (hex color for UI)
parent_id: integer (nullable, for sub-categories)
order: integer (for display ordering)
created_at: timestamp
```

#### `content_category_mapping`
```sql
id: serial (primary key)
content_id: integer (foreign key to content_items)
category_id: integer (foreign key to content_categories)
is_primary: boolean (one primary category per content)
created_at: timestamp
UNIQUE constraint on (content_id, category_id)
```

#### `content_tags`
```sql
id: serial (primary key)
name: text (not null, unique)
slug: text (not null, unique)
usage_count: integer (default 0)
created_at: timestamp
```

#### `content_tag_mapping`
```sql
id: serial (primary key)
content_id: integer (foreign key to content_items)
tag_id: integer (foreign key to content_tags)
created_at: timestamp
UNIQUE constraint on (content_id, tag_id)
```

#### `content_bookmarks`
```sql
id: serial (primary key)
user_id: integer (foreign key to users)
content_id: integer (foreign key to content_items)
created_at: timestamp
UNIQUE constraint on (user_id, content_id)
```

#### `content_submissions` (for community contributions)
```sql
id: serial (primary key)
url: text (not null)
submitted_by: integer (foreign key to users)
submitter_note: text
status: text (pending, approved, rejected)
rejection_reason: text
reviewed_by: integer (foreign key to users/admins)
reviewed_at: timestamp
content_id: integer (foreign key to content_items, after approval)
created_at: timestamp
```

---

## 6. API Endpoints

### Public Endpoints

**GET `/api/content`**
- List content items with pagination, filters, search
- Query params: `category`, `type`, `difficulty`, `search`, `sort`, `page`, `limit`
- Response: Array of content items + pagination metadata

**GET `/api/content/:id`**
- Get single content item details
- Increments view_count
- Response: Content item object with categories and tags

**GET `/api/content/featured`**
- Get featured content items
- Response: Array of featured content (limit 5)

**GET `/api/categories`**
- List all content categories
- Response: Array of categories with counts

**GET `/api/tags`**
- List popular tags
- Response: Array of tags sorted by usage_count

### Authenticated User Endpoints

**POST `/api/content/:id/bookmark`**
- Bookmark a content item
- Response: Success confirmation

**DELETE `/api/content/:id/bookmark`**
- Remove bookmark
- Response: Success confirmation

**GET `/api/content/bookmarks`**
- Get user's bookmarked content
- Response: Array of bookmarked content items

**POST `/api/content/submit`**
- Submit content for moderation (Phase 2)
- Body: `{ url, note }`
- Response: Submission confirmation

### Admin Endpoints

**POST `/api/admin/content`**
- Create new content item
- Body: All content fields
- Response: Created content object

**PATCH `/api/admin/content/:id`**
- Update existing content
- Response: Updated content object

**DELETE `/api/admin/content/:id`**
- Delete content item
- Response: Success confirmation

**GET `/api/admin/content/submissions`**
- Get moderation queue
- Response: Array of pending submissions

**PATCH `/api/admin/content/submissions/:id/approve`**
- Approve submission and create content item
- Response: Created content object

**PATCH `/api/admin/content/submissions/:id/reject`**
- Reject submission with reason
- Body: `{ reason }`
- Response: Success confirmation

---

## 7. User Stories & Acceptance Criteria

### User Story 1: Browse Content
**As a** visitor  
**I want to** browse curated sustainability content  
**So that I can** learn and get inspired about sustainable living

**Acceptance Criteria**:
- [ ] Resources page is accessible from main navigation
- [ ] Content displays in card grid with thumbnails and metadata
- [ ] Can filter by category, type, and difficulty
- [ ] Can search across titles and descriptions
- [ ] Featured content is highlighted at top of page
- [ ] Page loads in <2 seconds with 20 items

### User Story 2: Bookmark Content
**As a** logged-in user  
**I want to** bookmark interesting articles  
**So that I can** find them easily later

**Acceptance Criteria**:
- [ ] Bookmark icon visible on each content card
- [ ] Single click to bookmark/unbookmark
- [ ] Visual feedback when bookmarked (filled icon)
- [ ] Can view all bookmarks in user profile
- [ ] Bookmark count updates in real-time

### User Story 3: Admin Add Content
**As an** admin  
**I want to** quickly add external articles to the resource library  
**So that I can** keep content fresh and relevant

**Acceptance Criteria**:
- [ ] "Add Resource" button in admin dashboard
- [ ] URL input auto-fetches metadata (title, description, thumbnail)
- [ ] Can assign categories and tags
- [ ] Can mark content as featured
- [ ] Preview before publishing
- [ ] Duplicate URL detection



## 8. Technical Considerations

### 8.1 URL Metadata Fetching
- Use Open Graph protocol and Twitter Cards metadata
- Fallback to scraping `<title>` and `<meta description>`
- Libraries: `node-fetch` + `cheerio` or `metascraper`
- Cache fetched metadata to avoid repeated requests

### 8.2 Content Moderation Tools
- Flag inappropriate content (user reports)
- Admin bulk actions (approve/reject multiple)
- Automated spam detection for submissions

### 8.3 Performance Optimization
- Lazy load images on content cards
- Pagination or infinite scroll (20-30 items per page)
- Cache popular queries (Redis)
- CDN for thumbnails

### 8.4 Analytics
- Track most viewed content
- Track shares and bookmarks
- Referral tracking (which content brings most traffic)
- Category popularity metrics

---

## 9. Implementation Checklist

### Core Content Hub Features
- [ ] Database schema implementation
- [ ] Admin interface for adding content
- [ ] URL metadata auto-fetching system
- [ ] Public-facing resources page with card grid layout
- [ ] Category and tag system
- [ ] Search and filter functionality
- [ ] Featured content section
- [ ] User bookmarking feature
- [ ] View/share tracking
- [ ] Social sharing buttons
- [ ] Responsive design (mobile/tablet/desktop)

---

## 10. Design Decisions

The following design decisions have been confirmed:

1. **Content Ownership**: âœ… Always link externally
   - No local caching or archiving of content
   - Content cards link directly to source URLs
   
2. **Video Embedding**: âœ… Open externally
   - Videos open in new tab to original source (YouTube, Vimeo, etc.)
   - No inline video players
   
3. **Content Licensing**: âœ… Not needed
   - External linking falls under fair use
   - No permission required for linking to publicly available content
   
4. **Duplicate Handling**: âœ… Not applicable
   - Admin-only submissions eliminate duplicate submission concerns
   - System will check for duplicate URLs on admin submission
   
5. **Quality Standards**: âœ… Not applicable
   - Admin curation ensures quality control
   - No automated approval criteria needed
   
6. **Category Structure**: âœ… Flat structure
   - Single-level categories (no parent/child hierarchy)
   - Simpler to implement and navigate
   - Categories: Climate Action, Zero Waste, Sustainable Fashion, Renewable Energy, Eco-Products, Green Living Tips

---

## Next Steps
1. âœ… Review and approve this requirements document
2. âœ… Review open questions and make decisions
3. âœ… Create wireframes/mockups for key pages
4. âœ… Begin implementation planning (break down into technical tasks)
5. [ ] Begin Phase 1 implementation


